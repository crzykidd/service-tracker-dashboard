<!DOCTYPE html>
<html data-bs-theme="dark">
<head>
  <title>Database Dump</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <style>
    body { background-color: #121212; color: #f8f9fa; }
    table { font-size: 0.9rem; }
    th, td { white-space: nowrap; vertical-align: top; }
    .table td, .table th { border-color: #444; }
  </style>
</head>
<body>
<div class="container mt-4">
  <h1 class="mb-4">Database Dump</h1>
  <table class="table table-dark table-bordered table-hover table-sm">
    <thead class="table-secondary text-dark">
      <tr>
        <th>ID</th>
        <th>Host</th>
        <th>Container</th>
        <th>Container ID</th>
        <th>Group</th>
        <th>Stack</th>
        <th>Internal URL</th>
        <th>External URL</th>
        <th>Docker Status</th>
        <th>Internal Health</th>
        <th>Internal Check Time</th>
        <th>External Health</th>
        <th>External Check Time</th>
        <th>Image Icon</th>
        <th>Image Tag</th>
        <th>Static</th>
        <th>Priority</th> <!-- ✅ New column -->
        <th>Last API Update</th>
      </tr>
    </thead>
    <tbody>
      {% for entry in entries %}
      <tr>
        <td>{{ entry.id }}</td>
        <td>{{ entry.host }}</td>
        <td>{{ entry.container_name }}</td>
        <td>{{ entry.container_id }}</td>
        <td>{{ entry.group_name }}</td>
        <td>{{ entry.stack_name }}</td>
        <td>{{ entry.internalurl }}</td>
        <td>{{ entry.externalurl }}</td>
        <td>{{ entry.docker_status }}</td>
        <td>{{ entry.internal_health_check_status }}</td>
        <td>{{ entry.internal_health_check_update }}</td>
        <td>{{ entry.external_health_check_status }}</td>
        <td>{{ entry.external_health_check_update }}</td>
        <td>{{ entry.image_icon }}</td>
        <td>{{ entry.image_tag }}</td>
        <td>{{ 'Yes' if entry.is_static else 'No' }}</td>
        <td>{{ entry.sort_priority if entry.sort_priority is not none else '' }}</td> <!-- ✅ New row field -->
        <td>{{ entry.last_api_update }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
</body>
</html>
